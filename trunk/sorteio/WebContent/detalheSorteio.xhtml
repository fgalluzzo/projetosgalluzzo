<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<h:head>
	<title></title>
	<meta name="keywords" content="" />
	<meta name="description" content="" />
	<link href="recursos/estilo.css" rel="stylesheet" type="text/css"
		media="screen" />
</h:head>
<h:body>
	<ui:composition template="template/common.xhtml">
		<ui:define name="content">
			<h:form>
				<div class="post"><p:panel>
					<f:facet name="header">
						<h:outputText
							value="#{msg.sorteio} #{cadastroSorteioMB.sorteio.nome}"></h:outputText>
					</f:facet>
					<div > <p:messages /> </div>
					<h:panelGrid columns="2">

						<h:outputText value="#{msg.nome}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.nome}"></h:outputText>
						
						<h:outputText value="#{msg.descricao}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.descricao}"></h:outputText>						

						<h:outputText value="#{msg.enderecoDivulga}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.enderecoSorteio}"></h:outputText>
						
						<h:outputText value="#{msg.enderecoIframe}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.enderecoSorteioEmbed}"></h:outputText>

						<h:outputText value="#{msg.dtHoraInicio}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.dataInicioD}">
							<f:convertDateTime timeStyle="short" timeZone="America/Sao_Paulo"
								locale="BR" type="both"></f:convertDateTime>
						</h:outputText>

						<h:outputText value="#{msg.dtHoraFim}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.dataFimD}">
							<f:convertDateTime timeStyle="short" timeZone="America/Sao_Paulo"
								locale="BR" type="both"></f:convertDateTime>
						</h:outputText>
						
						<h:outputText value="#{msg.inscritos}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.inscritos}"></h:outputText>
						
						<h:outputText value="#{msg.qntPremios}"></h:outputText>
						<h:outputText
							value="#{cadastroSorteioMB.sorteio.quantidadeGanhadores}"></h:outputText>

						<h:outputText value="#{msg.sorteado}"></h:outputText>
						<h:outputText value="#{cadastroSorteioMB.sorteio.sorteadoStr}"></h:outputText>


					</h:panelGrid>					
					<p:dataTable 
						rendered="#{cadastroSorteioMB.sorteio.temGanhadores}"
						value="#{cadastroSorteioMB.sorteio.ganhadores}" var="ganhador" >
						<f:facet name="header">
							<h:outputText value="#{msg.ganhadores}"></h:outputText>
						</f:facet>

						<p:column headerText="#{msg.nome}">							
							<h:outputText value="#{ganhador.nome}"></h:outputText>
						</p:column>
						<p:column headerText="#{msg.sobrenome}">							
							<h:outputText value="#{ganhador.sobrenome}"></h:outputText>
						</p:column>
						<p:column headerText="#{msg.email}">							
							<h:outputText value="#{ganhador.email}"></h:outputText>
						</p:column>
					</p:dataTable>
					<br />
					<h:commandButton  onclick="if (!confirm('#{msg.desejaSortearSorteio}')) return false"
						 rendered="#{cadastroSorteioMB.sorteio.temGanhadores}"
						 action="#{cadastroSorteioMB.resortear}" value="#{msg.resortear}"></h:commandButton>
				</p:panel>
				<br />
				<div style="text-align: right;"><p:button value="#{msg.voltar}"
					outcome="#{cadastroSorteioMB.ultimaPagina}" />
				</div>
				</div>
			</h:form>
		</ui:define>
	</ui:composition>
</h:body>


</html>